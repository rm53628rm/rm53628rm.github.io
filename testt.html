<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Lottery PDF Download</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{
  box-sizing:border-box;
  font-family:Segoe UI, Arial, sans-serif;
}

body{
  margin:0;
  background:#f4f6fb;
}

/* ===== CARD ===== */
.card{
  max-width:720px;
  margin:30px auto;
  background:#fff;
  padding:16px;
  border-radius:14px;
  text-align:center;
  box-shadow:0 10px 25px rgba(0,0,0,.08);
}

.img-preview{
  width:100%;
  height:auto;
  max-width:100%;
  border-radius:10px;
}

/* BUTTON */
.download-btn{
  margin-top:16px;
  padding:12px 26px;
  border:none;
  border-radius:10px;
  background:#16a34a;
  color:#fff;
  font-size:15px;
  font-weight:700;
  cursor:pointer;
}

.download-btn:hover{
  background:#15803d;
}

/* ===== POPUP ===== */
#popup{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  z-index:9999;
  align-items:center;
  justify-content:center;
}

.popup-box{
  background:#fff;
  padding:20px 26px;
  border-radius:12px;
  display:flex;
  align-items:center;
  gap:12px;
  font-weight:600;
}

.loader{
  width:18px;
  height:18px;
  border:3px solid #ddd;
  border-top:3px solid #0a2a66;
  border-radius:50%;
  animation:spin .7s linear infinite;
}

@keyframes spin{
  0%{transform:rotate(0)}
  100%{transform:rotate(360deg)}
}
</style>
</head>

<body>

<div class="card">
  <img src="images/favicon.png" class="img-preview">
  <h3>Today Lottery Result</h3>

  <button class="download-btn" onclick="downloadPDF()">
    Download PDF
  </button>
</div>

<!-- POPUP -->
<div id="popup">
  <div class="popup-box">
    <div class="loader"></div>
    Downloading PDF...
  </div>
</div>

<script>
/* ===== PDF URL ===== */
const PDF_URL = "https://www.dhankesari.com/download.php?filename=MD080526.pdf";

function downloadPDF(){

  document.getElementById("popup").style.display="flex";

  fetch(PDF_URL)
    .then(res => res.blob())
    .then(blob => {

      const blobURL = window.URL.createObjectURL(blob);

      const a = document.createElement("a");
      a.href = blobURL;
      a.download = "Lottery-Result.pdf"; // filename
      document.body.appendChild(a);
      a.click();

      a.remove();
      window.URL.revokeObjectURL(blobURL);

      document.getElementById("popup").style.display="none";
    })
    .catch(err=>{
      alert("Download failed. Try again.");
      document.getElementById("popup").style.display="none";
    });
}
</script>

</body>
</html>
