<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Category</title>
<link rel="stylesheet" href="css/style.css">
</head>

<body>

<!-- HEADER SAME AS INDEX -->
<header>
  <div class="menu-btn" onclick="openMenu()">☰</div>
  <div class="logo">StockNews</div>
  <div class="search-box">
    <input type="text" placeholder="Search stock news...">
  </div>
</header>

<!-- MOBILE MENU -->
<div id="mobileMenu" class="mobile-menu">
  <span class="close" onclick="closeMenu()">✕</span>
  <a href="index.html">Home</a>
  <a href="category.html?cat=latest">Latest News</a>
  <a href="category.html?cat=earnings">Earnings</a>
  <a href="category.html?cat=dividend">Dividend</a>
</div>

<!-- CATEGORY TITLE BAR -->
<div class="category-title-bar">
  <h2 id="categoryTitle"></h2>
</div>

<!-- NEWS LIST -->
<main id="list"></main>
<div id="pagination" class="pagination"></div>

<!-- FOOTER SAME AS INDEX -->
<footer>
  <div class="footer-links">
    <a href="#">About Us</a>
    <a href="#">Privacy Policy</a>
    <a href="#">Terms & Conditions</a>
    <a href="#">Contact</a>
  </div>
  <div class="footer-bottom">
    © 2025 StockNews. All rights reserved.
  </div>
</footer>

<!-- JS FILES -->
<script src="js/latest.js"></script>
<script src="js/earning.js"></script>
<script src="js/dividend.js"></script>


/* =========================
   MOBILE MENU
========================= */
function openMenu(){document.getElementById('mobileMenu').classList.add("show");}
function closeMenu(){document.getElementById('mobileMenu').classList.remove("show");}

/* =========================
   CATEGORY TITLE
========================= */
const cat = new URLSearchParams(location.search).get("cat");
const categoryTitle = document.getElementById("categoryTitle");
if(categoryTitle && cat){
  categoryTitle.innerText = cat.charAt(0).toUpperCase() + cat.slice(1) + " News";
}

/* =========================
   DATA SELECTION
========================= */
let data=[];
if(cat==="latest") data=latestNews;
if(cat==="earnings") data=earningNews;
if(cat==="dividend") data=dividendNews;

/* ADD CATEGORY IF MISSING */
data = data.map(n=>({...n, category: n.category || cat.toUpperCase()}));

/* SORT BY DATE */
data.sort((a,b)=>new Date(b.date)-new Date(a.date));

/* =========================
   

</body>
</html>

