<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Stock Market News</title>
<link rel="stylesheet" href="css/style.css">
</head>
<body>

<!-- HEADER -->
<header>
  <div class="menu-btn" onclick="openMenu()">☰</div>
  <div class="logo">StockNews</div>
</header>

<!-- MOBILE MENU -->
<div id="mobileMenu" class="mobile-menu">
  <span class="close" onclick="closeMenu()">✕</span>
  <div class="menu-header">Stock Edge</div>
  <a href="index.html">Home</a>
  <a href="category.html?cat=latest">Latest News</a>
  <a href="category.html?cat=earnings">Earnings</a>
  <a href="category.html?cat=dividend">Dividend</a>
</div>

<main>

<section>
  <h2>Latest News</h2>
  <div id="latestNews"></div>
  <a class="view-all" href="category.html?cat=latest">View All</a>
</section>

<section>
  <h2>Earnings Update</h2>
  <div id="earningsNews"></div>
  <a class="view-all" href="category.html?cat=earnings">View All</a>
</section>

<section>
  <h2>Dividend Update</h2>
  <div id="dividendNews"></div>
  <a class="view-all" href="category.html?cat=dividend">View All</a>
</section>

</main>

<!-- FOOTER -->
<footer class="site-footer">
  <div class="footer-inner">
    <div class="footer-brand">
      <h3>StockNews</h3>
      <p>Latest stock market news, earnings, dividends & updates.</p>
    </div>
    <div class="footer-links">
      <a href="#">About Us</a>
      <a href="#">Contact Us</a>
      <a href="#">Privacy Policy</a>
      <a href="#">Disclaimer</a>
    </div>
  </div>
  <div class="footer-bottom">
    © 2025 StockNews • Educational Purpose Only
  </div>
</footer>

<!-- JS FILES -->
<script src="js/latest.js"></script>
<script src="js/earning.js"></script>
<script src="js/dividend.js"></script>

<script>
/* =========================
   MOBILE MENU
========================= */
function openMenu(){document.getElementById('mobileMenu').classList.add("show");}
function closeMenu(){document.getElementById('mobileMenu').classList.remove("show");}

/* =========================
   AUTO NEW BADGE
========================= */
function isNew(dateStr){
  const newsDate = new Date(dateStr);
  const now = new Date();
  const diffHours = (now - newsDate) / (1000 * 60 * 60); // hours difference
  return diffHours <= 24; // 24 ghante
}
  

/* =========================
   RENDER FUNCTION
========================= */
function render(id, data, limit){
  const box = document.getElementById(id);
  box.innerHTML = "";

  data.slice(0, limit).forEach(n=>{
    const newBadge = isNew(n.date)
      ? `<span class="new-badge">NEW</span>`
      : "";

    box.innerHTML += `
    <div class="news-card" onclick="location.href='${n.link}'">
      ${newBadge}
      <img src="${n.image}" alt="">
      <div class="news-text">
        <div class="news-title">${n.title}</div>
        <div class="news-meta">${n.date} | ${n.category}</div>
        <div class="news-summary">${n.summary}</div>
      </div>
    </div>`;
  });
}
  
/* =========================
   RENDER ALL NEWS
========================= */
render("latestNews", latestNews, 10);
render("earningsNews", earningNews, 5);
render("dividendNews", dividendNews, 5);
</script>

</body>
</html>

