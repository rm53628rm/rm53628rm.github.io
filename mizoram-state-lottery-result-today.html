<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Today Lottery Result PDF</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>

<div class="container">

  <h1>Today Lottery Draw Results</h1>

  <div id="resultSection"></div>

</div>

<script>
const BASE_URL =
  "https://mizoramlottery.com/Home/PrintToday?dateTime=";

const draws = [
  { title:"ðŸ•š 11 AM Draw Result", time:10, lock:11 },
  { title:"ðŸ•› 12 PM Draw Result", time:11, lock:12 },
  { title:"ðŸ•“ 4 PM Draw Result",  time:3,  lock:16 },
  { title:"ðŸ•– 7 PM Draw Result",  time:7,  lock:19 },
  { title:"ðŸ•˜ 9 PM Draw Result",  time:9,  lock:21 }
];

function istHour(){
  return Number(
    new Date().toLocaleString("en-IN",{
      timeZone:"Asia/Kolkata",
      hour:"2-digit",
      hour12:false
    })
  );
}

function todayIST(){
  return new Date(
    new Date().toLocaleDateString("en-CA",{ timeZone:"Asia/Kolkata" })
  );
}

function loadResults(){

  const wrap = document.getElementById("resultSection");
  wrap.innerHTML = "";

  const hour = istHour();
  const date = todayIST().toDateString();

  draws.forEach(d => {

    const card = document.createElement("div");
    card.className = "card";

    card.innerHTML = `
      <h3>${d.title}</h3>
      <div class="date-show">${date}</div>
    `;

    if(hour < d.lock){
      const s = document.createElement("div");
      s.className = "status";
      s.textContent =
        "Result will be published after " + d.lock + ":00 IST";
      card.appendChild(s);
    } else {
      const btn = document.createElement("button");
      btn.className = "refresh-btn";
      btn.textContent = "View Result PDF";

      btn.onclick = ()=>{
        window.open(BASE_URL + d.time, "_blank");
      };

      card.appendChild(btn);
    }

    wrap.appendChild(card);
  });
}

loadResults();
</script>

</body>
</html>
